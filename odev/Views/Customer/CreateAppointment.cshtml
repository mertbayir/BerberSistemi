@{
    Layout = "_LayoutCustomer.cshtml";
}

@model odev.Models.Appointment

<h2>Randevu Al</h2>

<form asp-action="CreateAppointment" method="post">
    <!-- Berber Seçimi -->
    <div>
        <label>Berber Seçin:</label>
        <select id="BarberName" name="BarberName" required>
            <option value="" disabled selected>Berber Seçin</option>
            <option value="Deniz Akçay">Deniz Akçay</option>
            <option value="Ahmet Sönmez">Ahmet Sönmez</option>
            <option value="Hakan Bilgili">Hakan Bilgili</option>
        </select>
    </div>

    <!-- Hizmet Seçimi -->
    <div>
        <label>Hizmet Seçin:</label>
        <select id="Service" name="Service" required>
            <option value="" disabled selected>Önce bir berber seçin</option>
        </select>
    </div>

    <!-- Tarih Seçimi -->
    <div>
        <label>Tarih:</label>
        <input type="date" name="DateTime" required />
    </div>

    <!-- Saat Seçimi -->
    <div>
        <label>Saat:</label>
        <select name="DateTime" required>
            <option value="" disabled selected>Saat Seçin</option>
            <option value="09:00">09:00</option>
            <option value="10:30">10:30</option>
            <option value="12:00">12:00</option>
            <option value="14:00">14:00</option>
            <option value="15:30">15:30</option>
            <option value="17:00">17:00</option>
        </select>
    </div>

    <button type="submit">Randevu Oluştur</button>
</form>

<script>
    // Her berber için uygun hizmetler
    const servicesByBarber = {
        "Deniz Akçay": ["Saç Kesimi", "Saç Boyama"],
        "Ahmet Sönmez": ["Saç Kesimi", "Sakal Kesimi", "Saç Boyama"],
        "Hakan Bilgili": ["Tasarım Tıraşı", "Çocuk Tıraşı", "Damat Tıraşı"]
    };

    // Berber seçimi değiştiğinde hizmetleri güncelle
    document.getElementById("BarberName").addEventListener("change", function () {
        const selectedBarber = this.value;
        const serviceSelect = document.getElementById("Service");

        // Önce mevcut seçenekleri temizle
        serviceSelect.innerHTML = '<option value="" disabled selected>Hizmet Seçin</option>';

        // Seçilen berberin hizmetlerini ekle
        if (servicesByBarber[selectedBarber]) {
            servicesByBarber[selectedBarber].forEach(service => {
                const option = document.createElement("option");
                option.value = service;
                option.textContent = service;
                serviceSelect.appendChild(option);
            });
        }
    });
</script>

